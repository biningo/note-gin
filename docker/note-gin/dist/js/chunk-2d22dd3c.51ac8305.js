(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22dd3c"],{f8c7:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-page-header",{attrs:{content:"Article"},on:{back:e.goBack}}),a("el-divider"),a("el-row",[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.DeleteAll}},[e._v("批量删除")]),a("el-button",{attrs:{size:"mini"}},[e._v("批量下载")]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"ID",prop:"id",width:"60"}}),a("el-table-column",{attrs:{label:"日期",width:"100",prop:"updated_at"}}),a("el-table-column",{attrs:{width:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{on:{click:function(a){return e.ShowArticle(t.row)}}},[e._v(e._s(t.row.title))])]}}])}),a("el-table-column",{attrs:{width:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.DownLoad(t.row)}}},[e._v("下载")])]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.Total,"page-size":10,"current-page":e.currentPage},on:{"current-change":e.handleCurrentChange}})],1),a("el-drawer",{staticStyle:{"overflow-y":"auto",width:"60%"},attrs:{title:e.ArticleInfo.title,visible:e.dialogVisible,size:"auto",direction:"ttb"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{},[a("makedown-show",{attrs:{background:"#F0FFF0","mk-value":e.ArticleInfo.mkValue}})],1)])],1)},l=[],i=(a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("1bab")),o=a("cde3"),r={components:{makedownShow:o["a"]},mounted:function(){var e=this;this.loading=!0,Object(i["a"])({url:"/article/many/1"}).then((function(t){e.tableData=t.data.items,e.Total=t.data.total,e.loading=!1}))},name:"article",data:function(){return{loading:!1,currentPage:1,Total:1,multipleSelection:[],keywords:"",tableData:[],ArticleInfo:{title:"",mkValue:"",id:null},dialogVisible:!1}},methods:{handleCurrentChange:function(e){var t=this;this.currentPage=e,this.loading=!0,Object(i["a"])({url:"/article/many/"+e}).then((function(e){t.tableData=e.data.items,t.Total=e.data.total,t.loading=!1}))},goBack:function(){this.$router.push("/manage")},handleSelectionChange:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].id);this.multipleSelection=t},DownLoad:function(e){var t=this;this.loading=!0,Object(i["a"])({url:"/article/download/"+e.id,responseType:"blob"}).then((function(a){var n=new Blob([a.data]),l=e.title+".md";if("download"in document.createElement("a")){var i=document.createElement("a");i.download=l,i.style.display="none",i.href=URL.createObjectURL(n),document.body.appendChild(i),i.click(),URL.revokeObjectURL(i.href),document.body.removeChild(i)}else navigator.msSaveBlob(n,l);t.loading=!1}))},ShowArticle:function(e){var t=this;Object(i["a"])({url:"/article/get/"+e.id}).then((function(e){t.ArticleInfo=e.data})),this.dialogVisible=!0},DeleteAll:function(){var e=this;Object(i["a"])({url:"/article/delete/many",params:{items:this.multipleSelection}}).then((function(t){e.$message({type:"success",message:t.data.msg}),location.reload()}))}}},c=r,d=a("2877"),s=Object(d["a"])(c,n,l,!1,null,"edbbd73e",null);t["default"]=s.exports}}]);
//# sourceMappingURL=chunk-2d22dd3c.51ac8305.js.map